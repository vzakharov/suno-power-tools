(()=>{var u="vovas",r="sunoTools",l=new Promise((n,e)=>{let t=indexedDB.open(u,1);t.onupgradeneeded=()=>t.result.createObjectStore(r),t.onsuccess=()=>n(t.result),t.onerror=()=>e(t.error)});async function s(n){return(await l).transaction(r,n)}function i(n){return new Promise((e,t)=>{n.oncomplete=()=>e(),n.onerror=()=>t(n.error)})}async function T(n){return(await s(n)).objectStore(r)}var o=class{constructor(e,t){this.key=e;this.init=t}async load(){let e=(await T("readonly")).get(this.key);return new Promise((t,c)=>{e.onsuccess=()=>t(e.result??this.init),e.onerror=()=>c(e.error)})}async save(e){let t=await s("readwrite");return t.objectStore(r).put(e,this.key),i(t)}async clear(){let e=await s("readwrite");return e.objectStore(r).delete(this.key),i(e)}};function a(n,e){Object.assign(n,e)}a(window,{Storage:o});})();

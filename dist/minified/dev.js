(()=>{function d(t){return new u(t)}var i=class{constructor(e){this._value=e}watchers=[];get(){return p?.(this),this._value}_set(e){let{_value:r}=this;e!==this._value&&(this._value=e,this.watchers.forEach(n=>n(e,r)))}runAndWatch(e){e(this._value,this._value),this.watch(e)}watchImmediate=this.runAndWatch;watch(e){this.watchers.push(e)}onChange=this.watch;unwatch(e){this.watchers=this.watchers.filter(r=>r!==e)}get value(){return this.get()}},u=class extends i{set=super._set;set value(e){this.set(e)}get value(){return this.get()}},p,l=class extends i{constructor(r){var e=(...L)=>(super(...L),this.getter=r,this);if(p)throw new Error("smork: currentComputedPreHandler is already set (this should never happen)");try{p=n=>{n.watch(()=>this.refresh())},e(r())}finally{p=void 0}}refresh(){this._set(this.getter())}};function T(t){return new l(t)}function f(t){return T(()=>!t.value)}var g=["html","head","style","script","body","div","h3","p","a","img","audio","input","label","button"],{html:U,head:_,style:O,script:j,body:k,div:A,h3:I,p:B,a:D,img:R,audio:F,input:m,label:M,button:N}=P(g);function P(t){return t.reduce((e,r)=>Object.assign(e,{[r]:b(r)}),{})}function b(t){function e(n,c){let[o,s]=Array.isArray(n)?[void 0,n]:[n,c];return r(o,s)}function r(n,c){let o=document.createElement(t);if(n){let s=function(a){Object.assign(o,a),a.class&&(o.className=a.class),o instanceof HTMLLabelElement&&a.for&&(o.htmlFor=a.for),Object.entries(a.style??{}).forEach(([y,E])=>{o.style[y]=E})};typeof n=="function"?T(n).runAndWatch(s):s(n)}return c&&c.forEach(s=>{typeof s=="string"?o.appendChild(document.createTextNode(s)):o.appendChild(s)}),o}return e}var W=x(m,{type:"checkbox"}),V=x(m,{type:"text"});function x(t,e){return(...r)=>{let n=t(...r);return Object.assign(n,e),n}}function h(t,e){Object.assign(t,e)}h(window,{ref:d,computed:T,useNot:f,BaseRef:i,Ref:u,ComputedRef:l});})();

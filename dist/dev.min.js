(vovas = { main() {
(()=>{var W=Object.defineProperty;var _=(t,e)=>{for(var r in e)W(t,r,{get:e[r],enumerable:!0})};var V=0;function E(t=""){return`${t}${++V}`}function b(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[r,e(n,r)]))}function A(t,e){return b(t,e)}function x(t){return typeof t=="function"}function N(t,e){return Object.assign(t,e)}var h=class extends Error{constructor(e){super(`smork: ${e}`)}};function K(t,e){return x(t)?m(t,e):new c(t)}var s=class{constructor(e){this._value=e}watchers=new Set;activeWatchers=new WeakSet;get(){return g?.(this),this._value}_set(e){let{_value:r}=this;if(e!==this._value){this._value=e;try{for(let n of this.watchers){if(this.activeWatchers.has(n)){console.warn("smork: watcher is already active \u2014 perhaps a circular dependency \u2014 exiting watch to prevent infinite loop");return}this.activeWatchers.add(n),n(e,r)}}finally{this.activeWatchers=new WeakSet}}}runAndWatch(e){e(this._value,this._value),this.watch(e)}watchImmediate=this.runAndWatch;watch(e){this.watchers.add(e)}onChange=this.watch;unwatch(e){this.watchers.delete(e)}get value(){return this.get()}map(e){let r=new y(this,e);return x(r.value)?(this.unwatch(r.update),(...n)=>new y(this,a=>e(a)(...n))):r}merge(e){return e?m(()=>({...this.value,...v(e)})):this}uses(e){return N(this,b(e,this.map))}onceDefined(e){let r=n=>{n&&(this.unwatch(r),e(n))};this.watchImmediate(r)}},y=class extends s{constructor(r,n){var e=(...G)=>(super(...G),this.dependency=r,this.mapper=n,this);r&&(e(n(r.value)),r.watch(this.update))}update=r=>this._set(this.mapper(r))},c=class extends s{set(e){this._set(e)}set value(e){this.set(e)}get value(){return this.get()}bridge(e,r){return new f(()=>e(this.value),n=>this.set(r(n)))}};var g,p=class extends c{constructor(r){super(void 0);this.getter=r;this.track()}dependencies=new Set;track=()=>{if(g)throw new h("Tried to compute a ref while another one is already being computed \u2014 did you nest a computed ref in another ref's getter function?");this.dependencies.forEach(r=>r.unwatch(this.track)),this.dependencies=new Set;try{g=r=>{r.watch(this.track),this.dependencies.add(r)},this._set(this.getter())}finally{g=void 0}}},f=class extends c{constructor(r,n,a=!1){let o=new p(r);super(o.value);this.setter=n;this.allowMismatch=a;o.watch(i=>this._set(i))}set(r){if(this.setter(r),!this.allowMismatch&&this.value!==r)throw new h("Setter did not update the value. If you want to allow this, set the allowMismatch property to true.")}};function m(t,e){return e?new f(t,e):new p(t)}function S(t){return m(()=>!t.value)}function v(t){return t instanceof s?t.value:t}function U(t){return t instanceof s?t:new s(t)}function M(t,e){return e(t)}function F(t,e){Object.assign(t,e)}var k={};_(k,{Checkbox:()=>j,If:()=>H,Labeled:()=>C,TextInput:()=>q,importScript:()=>z,modelElement:()=>w,tag:()=>R});var P=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","script","search","section","select","slot","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];var{a:re,abbr:ne,address:oe,area:ae,article:ie,aside:se,audio:le,b:de,base:ue,bdi:ce,bdo:pe,blockquote:fe,body:Te,br:me,button:ge,canvas:he,caption:ye,cite:be,code:xe,col:ve,colgroup:Re,data:we,datalist:ke,dd:Ee,del:Ae,details:Ne,dfn:Ke,dialog:Se,div:Ue,dl:Me,dt:Fe,em:Pe,embed:Ie,fieldset:We,figcaption:_e,figure:Ve,footer:je,form:qe,h1:Ce,h2:ze,h3:He,h4:$e,h5:Le,h6:Oe,head:De,header:Be,hgroup:Ye,hr:Ge,html:Je,i:Qe,iframe:Xe,img:Ze,input:et,ins:tt,kbd:rt,label:I,legend:nt,li:ot,link:at,main:it,map:st,mark:lt,menu:dt,meta:ut,meter:ct,nav:pt,noscript:ft,object:Tt,ol:mt,optgroup:gt,option:ht,output:yt,p:bt,picture:xt,pre:vt,progress:Rt,q:wt,rp:kt,rt:Et,ruby:At,s:Nt,samp:Kt,script:St,search:Ut,section:Mt,select:Ft,slot:Pt,small:It,source:Wt,span:_t,strong:Vt,style:jt,sub:qt,summary:Ct,sup:zt,table:Ht,tbody:$t,td:Lt,template:Ot,textarea:Dt,tfoot:Bt,th:Yt,thead:Gt,time:Jt,title:Qt,tr:Xt,track:Zt,u:er,ul:tr,var:rr,video:nr,wbr:or}=P.reduce((t,e)=>(t[e]=R(e),t),{});function R(t){function e(n,a){let[o,i]=Array.isArray(n)?[void 0,n]:[n,a];return r(o,i)}return e;function r(n,a){let o=document.createElement(t);return n&&A(n,(i,l)=>{typeof i=="function"?o[l==="style"?"cssText":l]=i():M(i,T=>{d(v(T)),U(T).watch(d);function d(u){typeof u=="boolean"?u?o.setAttribute(l,""):o.removeAttribute(l):o.setAttribute(l,String(u))}})}),a&&a.forEach(i=>{let l=void 0,T=d=>{let u=typeof d=="string"?document.createTextNode(d):d instanceof HTMLElement?d:document.createComment("");l?l.replaceWith(u):o.appendChild(u),l=u};i instanceof s?i.watchImmediate(T):T(i)}),o}}var j=w("input","checked",Boolean,{type:"checkbox"},t=>({onchange:()=>t.set(!t.value)})),q=w("input","value",String,{type:"text"},t=>({onkeyup:({key:e,target:r})=>{e==="Enter"&&r instanceof HTMLInputElement&&t.set(r.value)}}));function w(t,e,r,n){return(a,o)=>t(t)({...r,...o,[e]:a,...n(a)})}function C(t,e){e.id||=E("smork-input-");let r=[I({for:e.id},[t]),e];return e.type==="checkbox"&&r.reverse(),r}async function z(t,e,r){let n=t.document.createElement("script");return n.type="text/javascript",n.src=r,t.document.head.appendChild(n),new Promise(a=>{n.onload=()=>{a(t[e])}})}function H(t,e,r=void 0){return t.map(n=>n?e:r)}F(window,{ref:K,computed:m,useNot:S,Ref:s,WritableRef:c,ComputedRef:p,WritableComputedRef:f,...k});})();
}}).main();

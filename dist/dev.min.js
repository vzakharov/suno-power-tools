(vovas = { main() {
(()=>{var j=Object.defineProperty;var V=(t,e)=>{for(var r in e)j(t,r,{get:e[r],enumerable:!0})};var S={};function U(t=""){return S[t]??=0,`${t}${++S[t]}`}function y(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[r,e(n,r)]))}function E(t,e){return y(t,e)}function R(t){return typeof t=="function"}function K(t){return t}function F(t,e){return Object.assign(t,e)}function v(t){return Object.values(t)}function g(t,e){return e(t)}function P(t,e){Object.assign(t,e)}var h=class extends Error{constructor(e){super(`smork: ${e}`)}};function q(t){return t&&typeof t=="object"&&v(t).every(e=>e instanceof o)}function I(t,e){return R(t)?k(t,e):q(t)?new d(()=>y(t,A),v(t)):new p(t)}var z=Symbol("NotApplicable"),o=class{constructor(e){this._value=e}watchers=new Set;activeWatchers=new WeakSet;targets=new Set;get(){return b?.(this),this._value}_set(e){let{_value:r}=this;if(e!==this._value){this._value=e;for(let n of this.targets)n.dirty=!0;try{for(let n of this.watchers){if(this.activeWatchers.has(n)){console.warn("smork: watcher is already active \u2014 perhaps a circular dependency \u2014 exiting watch to prevent infinite loop");return}this.activeWatchers.add(n),n(e,r)}}finally{this.activeWatchers=new WeakSet}}}watchImmediate(e){e(this.value,z),this.watch(e)}watch(e){this.watchers.add(e)}unwatch(e){this.watchers.delete(e)}get value(){return this.get()}map(e){let r=new T(this,e);return R(r.value)?(this.unwatch(r.update),(...n)=>new T(this,a=>e(a)(...n))):r}mapDefined(e){return this.map(r=>r!==void 0?e(r):void 0)}uses(e){return F(this,y(e,this.map))}setter(e=r=>this._set(r)){return new m(this,e)}},b,d=class extends o{constructor(r,n=void 0){super(void 0);this.getter=r;this.sources=new Set(n),(this.sourcesPredefined=!!n)&&n.forEach(a=>a.targets.add(this))}sources;sourcesPredefined=!1;dirty=!0;get(){return this.dirty&&(this.recalculate(),this.dirty=!1),super.get()}recalculate(){if(this.sourcesPredefined)return this.update();if(b)throw new h("Tried to compute a ref while another one is already being computed \u2014 did you nest a computed ref in another ref's getter function?");this.sources.forEach(r=>r.targets.delete(this)),this.sources.clear();try{b=r=>{this.sources.add(r),r.targets.add(this)},this.update()}finally{b=void 0}}update=()=>{this._set(this.getter())}};function k(t,e){return g(new d(t),r=>e?r.setter(e):r)}var T=class extends d{constructor(r,n){super(()=>n(r.value),[r]);this.source=r;r.watch(this.update)}},p=class extends o{set(e){this._set(e)}set value(e){this.set(e)}get value(){return this.get()}bridge(e,r){return this.map(e).setter(n=>this.set(r(n)))}clone(){return new w(this)}},w=class extends T{constructor(r){super(r,K);this.source=r}},m=class extends p{constructor(r,n,a=!1){super(r.value);this.source=r;this.allowMismatch=a;super.watch(D(this))}set(r){if(super.set(r),!this.allowMismatch&&this.value!==r)throw new h("Setter did not update the value. If you want to allow this, set the allowMismatch property to true.")}};function D(t){return e=>{t.set(e)}}function A(t){return t instanceof o?t.value:t}function M(t){return t instanceof o?t:new o(t)}var N={};V(N,{$object:()=>tt,$var:()=>Ot,Checkbox:()=>$t,If:()=>Jt,Labeled:()=>Yt,TextInput:()=>Bt,a:()=>O,abbr:()=>H,address:()=>L,area:()=>$,article:()=>B,aside:()=>Y,audio:()=>G,b:()=>J,base:()=>Q,bdi:()=>X,bdo:()=>Z,blockquote:()=>ee,body:()=>te,br:()=>re,button:()=>ne,canvas:()=>oe,caption:()=>ae,cite:()=>ie,code:()=>se,col:()=>le,colgroup:()=>ue,data:()=>ce,datalist:()=>de,dd:()=>pe,del:()=>fe,details:()=>Te,dfn:()=>me,dialog:()=>ye,div:()=>ge,dl:()=>be,dt:()=>he,em:()=>xe,embed:()=>Re,fieldset:()=>ve,figcaption:()=>we,figure:()=>ke,footer:()=>Ae,form:()=>Ne,h1:()=>Se,h2:()=>Ue,h3:()=>Ee,h4:()=>Ke,h5:()=>Fe,h6:()=>Pe,head:()=>Ie,header:()=>Me,hgroup:()=>We,hr:()=>_e,html:()=>je,i:()=>Ve,iframe:()=>Ce,img:()=>qe,importScript:()=>Gt,input:()=>ze,ins:()=>De,kbd:()=>Oe,label:()=>_,legend:()=>He,li:()=>Le,link:()=>$e,main:()=>Be,map:()=>Ye,mark:()=>Ge,menu:()=>Je,meta:()=>Qe,meter:()=>Xe,nav:()=>Ze,noscript:()=>et,ol:()=>rt,optgroup:()=>nt,option:()=>ot,output:()=>at,p:()=>it,picture:()=>st,pre:()=>lt,progress:()=>ut,q:()=>ct,rp:()=>dt,rt:()=>pt,ruby:()=>ft,s:()=>Tt,samp:()=>mt,script:()=>yt,search:()=>gt,section:()=>bt,select:()=>ht,slot:()=>xt,small:()=>Rt,source:()=>vt,span:()=>wt,strong:()=>kt,style:()=>At,sub:()=>Nt,summary:()=>St,sup:()=>Ut,table:()=>Et,tag:()=>x,tbody:()=>Kt,td:()=>Ft,template:()=>Pt,textarea:()=>It,tfoot:()=>Mt,th:()=>Wt,thead:()=>_t,time:()=>jt,title:()=>Vt,tr:()=>Ct,track:()=>qt,u:()=>zt,ul:()=>Dt,video:()=>Ht,wbr:()=>Lt});var W=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","script","search","section","select","slot","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function x(t){function e(n,a){let[s,i]=Array.isArray(n)?[void 0,n]:[n,a];return r(s,i)}return e;function r(n,a){let s=document.createElement(t);return n&&E(n,(i,l)=>{typeof i=="function"?s[l]=i:g(i,f=>{u(A(f)),M(f).watch(u);function u(c){typeof c=="boolean"?c?s.setAttribute(l,""):s.removeAttribute(l):s.setAttribute(l,String(c))}})}),a&&a.forEach(i=>{let l=void 0,f=u=>{let c=typeof u=="string"?document.createTextNode(u):u instanceof HTMLElement?u:document.createComment("");l?l.replaceWith(c):s.appendChild(c),l=c};i instanceof o?i.watchImmediate(f):f(i)}),s}}var{a:O,abbr:H,address:L,area:$,article:B,aside:Y,audio:G,b:J,base:Q,bdi:X,bdo:Z,blockquote:ee,body:te,br:re,button:ne,canvas:oe,caption:ae,cite:ie,code:se,col:le,colgroup:ue,data:ce,datalist:de,dd:pe,del:fe,details:Te,dfn:me,dialog:ye,div:ge,dl:be,dt:he,em:xe,embed:Re,fieldset:ve,figcaption:we,figure:ke,footer:Ae,form:Ne,h1:Se,h2:Ue,h3:Ee,h4:Ke,h5:Fe,h6:Pe,head:Ie,header:Me,hgroup:We,hr:_e,html:je,i:Ve,iframe:Ce,img:qe,input:ze,ins:De,kbd:Oe,label:_,legend:He,li:Le,link:$e,main:Be,map:Ye,mark:Ge,menu:Je,meta:Qe,meter:Xe,nav:Ze,noscript:et,object:tt,ol:rt,optgroup:nt,option:ot,output:at,p:it,picture:st,pre:lt,progress:ut,q:ct,rp:dt,rt:pt,ruby:ft,s:Tt,samp:mt,script:yt,search:gt,section:bt,select:ht,slot:xt,small:Rt,source:vt,span:wt,strong:kt,style:At,sub:Nt,summary:St,sup:Ut,table:Et,tbody:Kt,td:Ft,template:Pt,textarea:It,tfoot:Mt,th:Wt,thead:_t,time:jt,title:Vt,tr:Ct,track:qt,u:zt,ul:Dt,var:Ot,video:Ht,wbr:Lt}=W.reduce((t,e)=>(t[e]=x(e),t),{});function $t(t,e){return x("input")({...e,type:"checkbox",checked:t,onchange:()=>t.set(!t.value)})}function Bt(t,e){return x("input")({...e,type:"text",value:t,onkeyup:({key:r,target:n})=>{r==="Enter"&&n instanceof HTMLInputElement&&t.set(n.value)}})}function Yt(t,e){e.id||=U("smork-input-");let r=[_({for:e.id},[t]),e];return e.type==="checkbox"&&r.reverse(),r}async function Gt(t,e,r){let n=t.document.createElement("script");return n.type="text/javascript",n.src=r,t.document.head.appendChild(n),new Promise(a=>{n.onload=()=>{a(t[e])}})}function Jt(t,e,r=void 0){return t.map(n=>n?e:r)}P(window,{ref:I,computed:k,Ref:o,WritableRef:p,ComputedRef:d,SetterRef:m,...N});})();
}}).main();
